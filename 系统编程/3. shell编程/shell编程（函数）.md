# Shell 编程——函数

函数将某个将要实现的功能模块化​，使代码结构和程序的工作流程更为清晰，也提高了程序的可读性和可重用性，是程序中重要的部分。对Shell函数的讲解将从函数的定义、调用方法、函数中的参数、函数中的变量

这四个部分着手。

[TOC]



---



## 一、函数的定义

Shell中的函数相当于用户自定义的命令，函数名相当于命令名，代码用来实现该函数的核心功能。Shell函数的格式如下：

```shell
function 函数名() {
	//code
	return int
}
```

> 在Shell脚本中定义函数时，可以使用function关键字，也可以不使用；函数名后的括号可以省略，若省略，则函数名与{ 之间需要有空格；Shell脚本中的函数不带任何参数；Shell脚本函数中可以使用return返回一个值，也可以不返回，若不设置返回值，则该函数返回最后一道命令的执行结果。



## 二、函数的调用

Shell脚本是逐行执行的，所以其中的函数需要在使用前定义。下面通过案例展示Shell脚本中函数的使用方法。

案例：定义个hello函数，该函数输出"Hello World!"，并在脚本中使用该函数。



<img src="..\..\pictures\function_use_shell.jpg" style="zoom:80%;" />

运行结果：

<img src="..\..\pictures\function_use_shell_runtime.jpg" style="zoom:80%;" />



## 三、函数的参数

Shell脚本的函数中也需要数据的传递，但是Shell中的函数却没有参数列表，那么它们是如何传递数据的呢？

在前面介绍了Shell中[位置变量](../shell编程（变量）.md)的概念，其中\$0代表Shell脚本的名称，\$1~\$n 代表脚本中的位置变量。